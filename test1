import { makeAutoObservable } from "mobx";
import { API_BASE_URL } from "./config/config";

export class SolutionFormStore {
  formData: Record<string, any> = {};

  constructor() {
    makeAutoObservable(this);
  }

  // Merge any new form data into the global formData object
  updateFormData(data: Record<string, any>) {
    this.formData = { ...this.formData, ...data };
  }

  // Get the entire form data
  getFormData() {
    return this.formData;
  }

  // Submit form data
  async submit() {
    console.log("Submitting", this.formData);
    // Example API call:
    // await axios.post(`${API_BASE_URL}/submit`, this.formData);
  }

  // Reset the entire form
  reset() {
    this.formData = {};
  }
}

export const solutionFormStore = new SolutionFormStore();


------------------------------------------------------------------------------

 {currentStepConfig?.component && (
                <currentStepConfig.component
                  data={solutionFormStore.getFormData()}
                  onDataChange={(updatedData: any) => solutionFormStore.updateFormData(updatedData)}
                />
 )}
